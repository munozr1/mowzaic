# ===========================
# MOWZAIC ENVIRONMENT VARIABLES
# ===========================
# Copy this file to .env and fill in your values
# Never commit .env to git

# ===========================
# FRONTEND VARIABLES (VITE_*)
# These are exposed to the browser
# ===========================

# Application Configuration
# Application mode: development, production, test
VITE_MODE=development
# Backend API base URL
VITE_API_URL=http://localhost:3000
# Frontend application URL (for OAuth redirects)
VITE_APP_URL=http://localhost:5173

# Supabase (Frontend - Public Keys Only)
# Supabase project URL
VITE_SUPABASE_URL=https://your-project.supabase.co
# Supabase anonymous (public) key
VITE_SUPABASE_ANON_KEY=your-anon-key

# External Services (Public Keys)
# Mapbox API token for address autocomplete
VITE_MAPBOX_TOKEN=pk.your-mapbox-token
# Stripe publishable key (pk_test_ for testing, pk_live_ for production)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-key

# ===========================
# BACKEND VARIABLES (Vercel Serverless Functions)
# These are NOT exposed to the browser
# Set these in Vercel Dashboard for production
# ===========================

# Supabase (Backend - Service Role Key)
# Supabase project URL (same as frontend)
SUPABASE_URL=https://your-project.supabase.co
# Supabase anonymous key (same as frontend)
SUPABASE_ANON_KEY=your-anon-key
# Supabase service role key (ADMIN access - NEVER expose to browser)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Database
# PostgreSQL connection string (for backend)
DATABASE_URL=postgresql://user:pass@host:port/db

# Stripe (Backend)
# Stripe secret key (sk_test_ for testing, sk_live_ for production)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret
# Stripe webhook signing secret
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# JWT Authentication Secrets
# JWT access token signing secret
ACCESS_TOKEN_SECRET=your-random-secret-min-32-chars
# JWT refresh token signing secret
REFRESH_TOKEN_SECRET=your-random-secret-min-32-chars

# Application Mode
# Backend mode: development, production, test
MODE=development
# Node environment: development, production, test
NODE_ENV=development
# Backend server port
PORT=3000

# ===========================
# TESTING VARIABLES (Local Only)
# For CI/CD, use GitHub Secrets
# ===========================

# Frontend test URL
TEST_URL=http://localhost:5173
# Backend test URL
BACKEND_URL=http://localhost:3000
# Run Puppeteer in headless mode
HEADLESS=true
# Slow down Puppeteer execution (ms) for debugging
SLOW_MO=0

# Test User Credentials (DO NOT use in production)
# Permanent test user email
FOREVER_TEST_EMAIL=test@example.com
# Permanent test user password
FOREVER_TEST_PASSWORD=TestPassword123!

# ===========================
# CI/CD VARIABLES (GitHub Secrets Only)
# DO NOT add these to .env files
# ===========================

# GitHub Actions
# BACKEND_REPO_PAT=ghp_xxx                           # GitHub Personal Access Token for private backend repo
# VERCEL_TOKEN=xxx                                    # Vercel CLI authentication token
# VERCEL_ORG_ID=team_xxx                             # Vercel organization ID
# VERCEL_PROJECT_ID=prj_xxx                          # Vercel project ID

# Test Environment (GitHub Secrets)
# SUPABASE_URL_TEST=https://test-project.supabase.co
# SUPABASE_ANON_KEY_TEST=test-anon-key
# SUPABASE_SERVICE_ROLE_KEY_TEST=test-service-key
# TEST_DATABASE_URL=postgresql://test...
# STRIPE_TEST_SECRET_KEY=sk_test_xxx
# STRIPE_TEST_WEBHOOK_SECRET=whsec_test_xxx

# ===========================
# NOTES
# ===========================
#
# 1. SECURITY:
#    - VITE_* variables are PUBLIC and embedded in browser bundle
#    - Non-VITE_* variables are PRIVATE and only used server-side
#    - Never put secrets in VITE_* variables
#
# 2. ENVIRONMENTS:
#    - Development: Use .env file (this template)
#    - Production: Set variables in Vercel Dashboard
#    - Testing: Use GitHub Secrets for CI/CD
#
# 3. SUPABASE KEYS:
#    - VITE_SUPABASE_ANON_KEY: Public key for frontend (respects RLS)
#    - SUPABASE_SERVICE_ROLE_KEY: Admin key for backend (bypasses RLS)
#
# 4. STRIPE KEYS:
#    - Development/Test: Use pk_test_* and sk_test_*
#    - Production: Use pk_live_* and sk_live_*
#
# 5. HOW TO GENERATE SECRETS:
#    - ACCESS_TOKEN_SECRET: openssl rand -base64 32
#    - REFRESH_TOKEN_SECRET: openssl rand -base64 32
